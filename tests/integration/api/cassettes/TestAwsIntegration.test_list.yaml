interactions:
- request:
    body: '{"account_id": "123456789101", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: POST
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6tWSq0oSS3KS8yJz0xRslIyNTRJMjWwsExNMTYxMTe2TDJLMjFINDA1Tk0zSTQx
        M1WqBQBYGP1WMgAAAA==
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:36 GMT
      Transfer-Encoding:
      - chunked
      cache-control:
      - no-cache
      content-encoding:
      - gzip
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789102", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: POST
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6tWSq0oSS3KS8yJz0xRslIySrKwNE02STEzMrAwMUg0TkxNM062SE60sEw0Tk4z
        NlKqBQByWnuxMgAAAA==
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:37 GMT
      Transfer-Encoding:
      - chunked
      cache-control:
      - no-cache
      content-encoding:
      - gzip
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: GET
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA+2YbU/bMBDHvwry2yUSbZrS5NU6QBMTYmKgoWlCkXGuweDaXexQHsR33zkOog8B
        EmDdJnhVx67t8//Ov7vkhlDGVCGNJvHPG8L0ZJzkoFWRM0iYEgKY4UomIOmJgJTEIyo0eATyXOV2
        zjG2L5koUkhxYob/rXpHXBjIE0OzqgM3Aq2Tc7hKOC5EwjDsd9bXw37YiSJsEO/OlkRPgPERZ4mk
        Y9ATirbkhQBc6ObWI2MwOWe61jyTF2jdqdJmZuenD3TrtTh7rgSUluEhvtALurYpOEiz9g371/aw
        P+nhWepVqdR2Cpzh5OQsupTctzNmrSblmAF3jviCigIIan03/xGFCJ3wJKMGpvSq8lcj0WZd+rRi
        Hpl3MEmVNJsuYGJrPDl+tqh2uk+PDnZVpodpusu12S7jbyjTLRBg4BCF8YViVPidftBb74ZR0G8h
        +q+94NPIFHWiH9IsVhJwyJoR66IM2+rxgcHnOMZG6l/xi/eartqihqYqGx4d7EgDWU4tLexFaOaM
        0o+flW9/N0+Bne/S8UlKh/pKMufZXhR0uot+cqFXuck9mKlqej/URE9Vfo40WZUP7D3G0MFj2FaM
        ze4LrkenG/Q+2oUQBn7qHODze/l9C6h6/UmhfaCoeQfHsT21+qMt92BxaA6iQS9CQPfCJTAhvysc
        eQTbXfcwt8ZjcJoXH/ctjEo0XmQusxXS6v4UL8RUBhIw6mEPptuXmPAkFTvpAp6CQTcIbRA3zQkf
        fnzd39g5WQj7ZpRZAVOeL9mfxkWp9OAdF7MlSutsGkRB2A9ahGuwLwE5vSi73fiBhOmS6wODzeJ8
        vsxZFcmXqpxXzab11aRldVNyXBsYfC/p/l5NPlqit8GxE3WpCnnLJXp9pLaBhhO1Fhpv9b2nXtQ2
        L5NO1KWa7S1H6l3JMeG2Kmv+amKr7LC/McBPE4s4bZag/otC7AWqLPLwH1Ll+PY3oxQStNgSAAA=
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:37 GMT
      Transfer-Encoding:
      - chunked
      cache-control:
      - no-cache
      content-encoding:
      - gzip
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789101", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:38 GMT
      cache-control:
      - no-cache
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789101", "role_name": "DatadogApiTestRolo"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{"errors": ["AWS account 123456789101 does not exist in integration"]}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '70'
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:38 GMT
      cache-control:
      - no-cache
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"account_id": "123456789102", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:38 GMT
      cache-control:
      - no-cache
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789102", "role_name": "DatadogApiTestRolo"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{"errors": ["AWS account 123456789102 does not exist in integration"]}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '70'
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:39 GMT
      cache-control:
      - no-cache
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"account_id": "123456789103", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{"errors": ["AWS account 123456789103 does not exist in integration"]}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '70'
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:39 GMT
      cache-control:
      - no-cache
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"account_id": "123456789103", "role_name": "DatadogApiTestRolo"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{"errors": ["AWS account 123456789103 does not exist in integration"]}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '70'
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:39 GMT
      cache-control:
      - no-cache
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"account_id": "123456789104", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{"errors": ["AWS account 123456789104 does not exist in integration"]}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '70'
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:39 GMT
      cache-control:
      - no-cache
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"account_id": "123456789104", "role_name": "DatadogApiTestRolo"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      User-Agent:
      - datadogpy/0.42.0 (python 3.9.7; os darwin; arch x86_64)
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{"errors": ["AWS account 123456789104 does not exist in integration"]}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '70'
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Oct 2021 12:37:39 GMT
      cache-control:
      - no-cache
      content-security-policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=15724800;
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
    status:
      code: 400
      message: Bad Request
version: 1
