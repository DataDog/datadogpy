interactions:
- request:
    body: '{"account_id": "123456789102", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: POST
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6tWSq0oSS3KS8yJz0xRslJKNTJONTZINEtOMzMzMbQ0T0pNtEhJNjAxSLQ0sUg1
        M1eqBQDTk7+vMgAAAA==
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Fri, 31 Jan 2020 15:00:41 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 07-Feb-2020 15:00:41 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - ns395qtajdi4vImLC5PhByq3vzX3KV9r4kOaLqZ3Kb42AGxxpM06vNzB/Pdubr1b
      X-DD-VERSION:
      - '35.2127796'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://api.datadoghq.com/api/v1/integration/aws/available_namespace_rules?account_id=123456789102&role_name=DatadogApiTestRole
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA1VTy5LcMAj8lz3nlNR+TSrlwhK2VUbIK9B45+8DeKZm9oK7W4iX8N8POMq0guIJ
        949fxg4qCbQ0npDmSxHtCPWB75wc6YYMDoa2SRJQ4dXoXOiJRl5RLzVRG3npjdVcgmzi8QIKQk/b
        k52gaZvwhqzyU6O2htIyzqNQDrxy0RaICJNOaYi2OlXUXtLlzmwH7tLhpAkIevWDXLrpqT2P86W2
        NKrlzt56vjPUFhBnv4Pp92VtaBeQo3lsjFy4hCUQtRmmDV9sRmBRoP0lFV6wI6c3L+3m5Q32cIvE
        NbAHXkrHrYn7r1CRyuKpVxquFJbD+mnuXaKmvTBK8YsPNAED3a200KJdgjpnf0bCb7MVc4HXSJ70
        ht0DBj0g7bB6xqAKhSJnJTdfbsSbZNC3tWI8dLDfYtSz9f2xXO0QZ17KYS/oG9izs45ZtqvBjns8
        s62kH7Sh+PnnhTpKI6vQFHFZrLoK+yXE3CwQxroIB/0Kq3hMy+DkcS+hdbv6VrSciznGmxR9/SIh
        kP0xcWj7hnmCfCsScxie3763w6s9wUNEiza4qOa724/27z9YqgipeAMAAA==
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Fri, 31 Jan 2020 15:00:42 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 07-Feb-2020 15:00:42 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - PKDIrz8Hcluof9oNzY3q1BouPTowe6nlZ4slm6KLsMEc/9DaK1hteKVCh6mza/IQ
      X-DD-VERSION:
      - '35.2127796'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789101", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Fri, 31 Jan 2020 15:00:43 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 07-Feb-2020 15:00:42 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - IRAJ1mQ+c3epm0CLGtZoe/y8O4TCss3jYw+fwQOm7+eSKRCE+p3OtawVnIQ5ts76
      X-DD-VERSION:
      - '35.2127796'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789101", "role_name": "DatadogApiTestRolo"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Fri, 31 Jan 2020 15:00:44 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 07-Feb-2020 15:00:43 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - IRAJ1mQ+c3epm0CLGtZoe/y8O4TCss3jYw+fwQOm7+eSKRCE+p3OtawVnIQ5ts76
      X-DD-VERSION:
      - '35.2127796'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789102", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Fri, 31 Jan 2020 15:00:45 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 07-Feb-2020 15:00:44 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - NueLa2zkdBcl9S7BHrRuWyjAeR9iWgPFe330KTY6Cp0/yUhjUktbxu5rG2fG6gBk
      X-DD-VERSION:
      - '35.2127796'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789102", "role_name": "DatadogApiTestRolo"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Fri, 31 Jan 2020 15:00:46 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 07-Feb-2020 15:00:45 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - wFmrQbB6wLDPf1aNlKcgRoMicVhPlX6qIVwwvniX5cF7oyd+90s5trfE73Pzpvml
      X-DD-VERSION:
      - '35.2127796'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789103", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Fri, 31 Jan 2020 15:00:47 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 07-Feb-2020 15:00:46 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - fLh2Ki8TBaqqP7azNnKugW2P+FqYhl36RGg8m8syr+2I6kNse5gXxG00+xylWppT
      X-DD-VERSION:
      - '35.2127796'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789103", "role_name": "DatadogApiTestRolo"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Fri, 31 Jan 2020 15:00:48 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 07-Feb-2020 15:00:47 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - vLqqOLcWkbQm3aIBHfcEmIwzrJtjtqNdArlWt57BFwl8nfWymjIeK67csuZ1woEb
      X-DD-VERSION:
      - '35.2127796'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789104", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Fri, 31 Jan 2020 15:00:50 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 07-Feb-2020 15:00:49 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - IWbeot5NPPjwzkLRJwJSrhKxooUYWPiItYmeOu7MvfpEU9kI8879nM2EukYnEnom
      X-DD-VERSION:
      - '35.2127796'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789104", "role_name": "DatadogApiTestRolo"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Fri, 31 Jan 2020 15:00:51 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 07-Feb-2020 15:00:50 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - EbXB0e7cF4uDRViRvI+w6qPg1YzykoJqZiw5SbqL/81VRQW4a286h09eTGyIVvXJ
      X-DD-VERSION:
      - '35.2127796'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
version: 1
