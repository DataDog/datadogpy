interactions:
- request:
    body: '{"account_id": "123456789101", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: POST
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6tWSq0oSS3KS8yJz0xRslJKMTQ1S04xTTI0NEk2MbUwSrJIM04zMbJISTNNNLZI
        NVKqBQDJnpmfMgAAAA==
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Sat, 01 Feb 2020 00:51:09 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Sat, 08-Feb-2020 00:51:08 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - rk3iIRyevtXsTLLTMsm8PoHrVjRY2UIgJwOnYxasATpPihgg0ps3VPSw7zz+6jrL
      X-DD-VERSION:
      - '35.2129440'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789101", "lambda_arn": "arn:aws:lambda:us-east-1:123456789101:function:APITest"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '102'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: POST
    uri: https://api.datadoghq.com/api/v1/integration/aws/logs
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Sat, 01 Feb 2020 00:51:09 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Sat, 08-Feb-2020 00:51:09 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - 2AZOmbSnS2o4jaTO55IoEgDi10r3ewUAnpo5XLuAFAThAxt0uvbRy8dZoSIDmBYA
      X-DD-VERSION:
      - '35.2129440'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789101", "services": ["s3", "elb", "elbv2", "cloudfront",
      "redshift", "lambda"]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '102'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: POST
    uri: https://api.datadoghq.com/api/v1/integration/aws/logs/services
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Sat, 01 Feb 2020 00:51:10 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Sat, 08-Feb-2020 00:51:09 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - bJj7D3RvHsKo+7eO3lrtPpPG0z8SsAwLw7bNfLb4htD+N9Ub8bD3AFgh45XaVsFM
      X-DD-VERSION:
      - '35.2129440'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://api.datadoghq.com/api/v1/integration/aws/logs
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA9VXO2/bMBD+L5wdgMd7kNRWdCi6ZcgWGIYiy60CVwIs2R2C/PeerKCoMhY+Iln0
        ACQd9T3uOz6+uLE9XbqmHV316EZ0G9cen5bjJei5OQ7n/eE09JPenNr9+LM7zJfH+tfTvnbbjaub
        Zjj3067bu8o915d6l8GjpPz3qfnb29fNrWtBQGKJScvBqtaLq0+9LkaPVf17rJa1Vufxrq3H6Q6q
        f9+sDue+mbqhr77cf39ox8m9Gqz1iosPETyTNS4LB54YQaxr/Rh2woSeKN+Eg2/D12PX9pMZEbpg
        wBgROJuDsxARMCN6ayLeagkjc5FaQByQzU1+FVgOKBzXfP2nyYsILHEQyGAOzpV0REqe1u4z6GBK
        BMWQQ84Qb9FtSxARkxASwBxkSwgYRdGVCEEO4NfgGBCxkA4iHs1JX/6LJUEhMRNTjvZ8zSkgQWbf
        rOP4A3eV5FENqExYi1nBiUwUY3zXVT4wOBxzCiSYrMF5a7k6ctrnrBKBIlG7Svg02acSVdkEnncS
        9i1X7UsYyrRcQtRILzNcYUrBF5nedTTVTRTJp8n0BEyafamM01kk6aBbRMycIiYqYxyGxBzfi3n7
        B05RBY8QEAAA
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Sat, 01 Feb 2020 00:51:10 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Sat, 08-Feb-2020 00:51:10 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - ADT0ms9dQnbDHbbduv4c09ChngZrYY7A/Pgms/qacMOruS4mPwZ1GJWq74I7G11W
      X-DD-VERSION:
      - '35.2129440'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789101", "lambda_arn": "arn:aws:lambda:us-east-1:123456789101:function:APITest"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '102'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws/logs
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Sat, 01 Feb 2020 00:51:10 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Sat, 08-Feb-2020 00:51:10 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - KKQq2SiaDLpychKSp47ffvU6SRxUV+VzBWr187ESkULBuGOI+kREfb/2NCy8DAWC
      X-DD-VERSION:
      - '35.2129440'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
- request:
    body: '{"account_id": "123456789101", "role_name": "DatadogApiTestRole"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      Cookie:
      - DD-PSHARD=233
      User-Agent:
      - python-requests/2.22.0
    method: DELETE
    uri: https://api.datadoghq.com/api/v1/integration/aws
  response:
    body:
      string: '{}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      DD-POOL:
      - dogweb
      Date:
      - Sat, 01 Feb 2020 00:51:11 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Sat, 08-Feb-2020 00:51:10 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-DD-Debug:
      - sg8vzlrAXfi82gDuSEBUxkn5dG85uDtr4RhaVLNn521TM8s6JdimiKDHvX2NhFjo
      X-DD-VERSION:
      - '35.2129440'
      X-Frame-Options:
      - SAMEORIGIN
    status:
      code: 200
      message: OK
version: 1
